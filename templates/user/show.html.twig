{% extends 'base.html.twig' %}

{% block title %} {{ user.firstname}} {{ user.lastname }} - {{ parent () }}{% endblock %}

{% block header %}
    {% include 'default/_menu.html.twig'  %}
{% endblock %}

{% block body %}
    <h1>Mon compte</h1>

    <form>
        <div class="form-group">
            <label for="input-firstname">Nom</label>
            <input type="text" class="form-control" id="input-firstname" value="{{user.firstname}}">
        </div>
        <div class="form-group">
            <label for="input-lastname">Prenom</label>
            <input type="text" class="form-control" id="input-lastname" value="{{user.lastname}}">
        </div>
        <div class="form-group">
            <label for="input-email">Email</label>
            <input type="email" class="form-control" id="input-email" value="{{user.email}}">
        </div>
        {#todo  activer le bouton pour aller vers user\edit#}
        <button type="submit" class="btn btn-primary">Mettre Ã  jour</button>
    </form>

    <hr>



    {% if (user.projects|length > 0) %}

    <h2>Mes projets</h2>

    <div class="row row-cols-1 row-cols-md-2">

            {% for project in user.projects %}
                <div class="col mb-4">
                {% include 'project/_card.html.twig' with {'project': project} only %}
            <a href="#" class="btn btn-secondary">
                <i class="fa fa-pencil"></i>
                Modifier
            </a>
            <a href="#" class="btn btn-danger">
                <i class="fa fa-trash"></i>
                Supprimer
            </a>
            {% endfor %}
    </div>

    {% else %}

        <h2>Vous n'avez pas encore de projet!</h2>

    {% endif %}

    <hr>

        <div class="col mb-4">
            <a href="new-project.html" class="btn btn-lg btn-block btn-success">
                <i class="fa fa-plus-circle"></i>
                Proposer un nouveau projet
            </a>
        </div>

{% endblock %}
